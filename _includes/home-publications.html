{% include base_path %}
{% assign publications = site.data.home_publications %}

{% if publications and publications.size > 0 %}
<section class="home-publications" id="publications">
  <h2>Selected Publications</h2>
  <div class="home-publications__list">
    {% for pub in publications %}
    <article class="pub-card">
      <div class="pub-card__thumb">
        {% if pub.image %}
          {% if pub.image contains '://' %}
            <img src="{{ pub.image }}" alt="{{ pub.title }} thumbnail">
          {% else %}
            <img src="{{ pub.image | prepend: '/images/' | prepend: base_path }}" alt="{{ pub.title }} thumbnail">
          {% endif %}
        {% endif %}
      </div>
      <div class="pub-card__body">
        <p class="pub-card__year">{{ pub.year }}</p>
        <h3 class="pub-card__title">{{ pub.title }}</h3>
        {% if pub.venue %}<p class="pub-card__venue">{{ pub.venue }}</p>{% endif %}
        {% if pub.authors %}<p class="pub-card__authors">{{ pub.authors }}</p>{% endif %}
        {% if pub.summary %}<p class="pub-card__summary">{{ pub.summary }}</p>{% endif %}
        {% if pub.links %}
          <p class="pub-card__links">
            {% for link in pub.links %}
              <a href="{{ link.url }}" class="pub-card__link" target="_blank" rel="noopener">[{{ link.label }}]</a>
            {% endfor %}
          </p>
        {% endif %}
      </div>
    </article>
    {% endfor %}
  </div>
</section>
{% endif %}
